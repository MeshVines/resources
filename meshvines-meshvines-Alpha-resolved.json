{
  "openapi" : "3.0.0",
  "info" : {
    "description" : "The meshvines API provides analytics to give insight in measurements that nearly universally measured in winemaking - density and temperature. Combined with density/temperature measurements, the Boulton model (1979) allows the prediction of future fermentation trajectory. The measured and predicted fermentation rate can then related to the fermentation heat, co2 and ethanol release. With meshvines, the Boulton model has now been implemented under the time and resource constraints of a REST API. Boulton model parameters to be estimated under the time and resource constraints of a REST API. Integrating this API into winery operations can enable:\n  1. Early notification of stuck and sluggish fermentation\n  2. Prediction of future cooling requirements (i.e. intelligent refrigeration systems)\n  3. Prediction of future CO2 release (i.e. loads on carbon sequestration systems)\n  4. Prediction of ethanol emissions (reporting for Environmental Protection Agency (EPA) and California Air and Resource Board (CARB) in United States)\n  \n  Example Fermentation Modeling\n  \n  2021 Oakville Cabernet Sauvignon 200 L\n  ![MDGS Example](https://raw.githubusercontent.com/MeshVines/resources/main/meshvines_example.png)\n  \n  \n  \n  Example Total Winery Fermentatation Heat Release\n\n  UC Davis Teaching and Research Winery 2021 200 L Fermentors\n  ![Example Sum kJ](https://raw.githubusercontent.com/MeshVines/resources/e3b48c01a7818a89ec0cba939b68fe62bafaaf5f/ucd_2021_kJ.gif)\n\n## Units\n### Density\n- 0-Brix\n- 1-Specific Gravity\n- 2-Baume\n- 3-Oeschle\n- 4-Plato\n- 5-Kg/m3\n\n### Pressure\n- 0-Pascals\n- 1-Bar\n- 2-atm\n\n### Temperature\n- 0-Celcius\n- 1-Fahrenheit\n\n### Rates\n- 0-kJ/hour\n- 1-kJ/day\n- 2-Refrigeration Tons\n- 0-L CO2/hour\n- 0-L CO2/day\n\n### Evolved\n- 0-kj\n- 0-L CO2\n\n### Volume\n- 0-Liters\n- 1-Gallons\n",
    "version" : "Alpha",
    "title" : "Meshvines API"
  },
  "servers" : [ {
    "description" : "Meshvines API Server",
    "url" : "https://api.meshvines.com"
  } ],
  "tags" : [ {
    "name" : "Boulton Model",
    "description" : "Paramter estimation of the Boulton model",
    "externalDocs" : {
      "description" : "Find out more",
      "url" : "https://meshvines.com"
    }
  }, {
    "name" : "Fermentation Loads",
    "description" : "Calculate current or predicted fermentation loads"
  }, {
    "name" : "Conversions",
    "description" : "Useful conversions"
  } ],
  "paths" : {
    "/boultonmodel/mdgs" : {
      "post" : {
        "tags" : [ "Boulton Model" ],
        "summary" : "Parameter estimation via Modified Direct Grid Search",
        "operationId" : "mdgs",
        "responses" : {
          "200" : {
            "description" : "Success"
          }
        },
        "requestBody" : {
          "$ref" : "#/components/requestBodies/boultonmodelmdgs"
        }
      }
    },
    "/boultonmodel/bard" : {
      "post" : {
        "tags" : [ "Boulton Model" ],
        "summary" : "Parameter estimation via Bard (1964)",
        "description" : "FUTURE",
        "operationId" : "bard",
        "responses" : {
          "200" : {
            "description" : "Success"
          }
        },
        "deprecated" : true
      }
    },
    "/fermentationloads/co2" : {
      "post" : {
        "tags" : [ "Fermentation Loads" ],
        "summary" : "Calculate rate and evolved CO2",
        "description" : "Calculate rate and evolved CO2",
        "operationId" : "co2",
        "requestBody" : {
          "$ref" : "#/components/requestBodies/loads"
        },
        "responses" : {
          "200" : {
            "description" : "Success"
          }
        },
        "deprecated" : false
      }
    },
    "/fermentationloads/ethanol" : {
      "post" : {
        "tags" : [ "Fermentation Loads" ],
        "summary" : "Calculate ethanol emissions",
        "description" : "FUTURE",
        "operationId" : "ethanol",
        "responses" : {
          "200" : {
            "description" : "Success"
          }
        },
        "requestBody" : {
          "$ref" : "#/components/requestBodies/loads"
        },
        "deprecated" : true
      }
    },
    "/fermentationloads/heat" : {
      "post" : {
        "tags" : [ "Fermentation Loads" ],
        "summary" : "Calculate rate and evolved heat (kJ)",
        "description" : "Calculate rate and evolved heat (kJ)",
        "operationId" : "heat",
        "requestBody" : {
          "$ref" : "#/components/requestBodies/loads"
        },
        "responses" : {
          "200" : {
            "description" : "Success"
          }
        }
      }
    },
    "/fermentationloads/wineryload" : {
      "post" : {
        "tags" : [ "Fermentation Loads" ],
        "summary" : "Sum loads across multiple fermentations",
        "description" : "FUTURE",
        "operationId" : "wineryload",
        "requestBody" : {
          "$ref" : "#/components/requestBodies/wineryloads"
        },
        "responses" : {
          "200" : {
            "description" : "Success"
          }
        },
        "deprecated" : false
      }
    },
    "/conversions/density2density" : {
      "post" : {
        "tags" : [ "Conversions" ],
        "summary" : "Converts between density scales",
        "operationId" : "density2density",
        "requestBody" : {
          "$ref" : "#/components/requestBodies/densityconversion"
        },
        "responses" : {
          "200" : {
            "description" : "Success"
          }
        }
      }
    },
    "/conversions/diffp2density" : {
      "post" : {
        "tags" : [ "Conversions" ],
        "summary" : "Differential pressure to density",
        "description" : "Calculates density of fermenting juice from two pressure transducers at a known height (in meters). A temperature correction factor is also applied.",
        "operationId" : "diffp2density",
        "requestBody" : {
          "$ref" : "#/components/requestBodies/diffp2density"
        },
        "responses" : {
          "default" : {
            "description" : "successful operation"
          }
        },
        "deprecated" : false
      }
    }
  },
  "externalDocs" : {
    "url" : "https://meshvines.com"
  },
  "components" : {
    "schemas" : {
      "wineryloads" : {
        "type" : "object",
        "properties" : {
          "Datasets" : {
            "type" : "object",
            "properties" : {
              "ferm1" : {
                "type" : "object",
                "properties" : {
                  "DataPoints" : {
                    "type" : "array",
                    "items" : {
                      "type" : "object",
                      "properties" : {
                        "Timestamp" : {
                          "type" : "string",
                          "example" : "05-Nov-2019 18:15:00"
                        },
                        "Rate" : {
                          "type" : "number",
                          "example" : 2.309
                        }
                      }
                    }
                  }
                }
              },
              "ferm2" : {
                "type" : "object",
                "properties" : {
                  "DataPoints" : {
                    "type" : "array",
                    "items" : {
                      "type" : "object",
                      "properties" : {
                        "Timestamp" : {
                          "type" : "string",
                          "example" : "06-Nov-2019 02:13:22"
                        },
                        "Rate" : {
                          "type" : "number",
                          "example" : 2.421
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "diffp2density" : {
        "type" : "object",
        "properties" : {
          "DataPoints" : {
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "diffPressure" : {
                  "type" : "number",
                  "example" : 7809.5
                },
                "Temperature" : {
                  "type" : "number",
                  "example" : 15.42
                }
              }
            }
          },
          "InputUnitsPressure" : {
            "type" : "number",
            "example" : 0
          },
          "InputUnitsTemperature" : {
            "type" : "number",
            "example" : 0
          },
          "Height" : {
            "type" : "number",
            "example" : 0.823
          }
        }
      },
      "boultonmodelmdgs" : {
        "type" : "object",
        "properties" : {
          "DataPoints" : {
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "Timestamp" : {
                  "type" : "string",
                  "example" : "05-Nov-2019 18:15:00"
                },
                "Brix" : {
                  "type" : "number",
                  "example" : 23.09
                },
                "Temperature" : {
                  "type" : "number",
                  "example" : 15.42
                }
              }
            }
          },
          "YeastTime" : {
            "type" : "string",
            "example" : "05-Nov-2019 18:15:00"
          },
          "Smoothing" : {
            "type" : "number",
            "example" : 1
          },
          "SSRThreshold" : {
            "type" : "number",
            "example" : 0.1
          },
          "SearchSpaceSize" : {
            "type" : "number",
            "example" : 8000
          },
          "Biomass" : {
            "type" : "object",
            "properties" : {
              "A" : {
                "type" : "number",
                "example" : 2.4E-4
              },
              "B" : {
                "type" : "number",
                "example" : 1.0E-6
              },
              "Type" : {
                "type" : "string",
                "example" : "N"
              }
            }
          },
          "Nitrogen" : {
            "type" : "object",
            "properties" : {
              "A" : {
                "type" : "number",
                "example" : 1.0E-4
              },
              "B" : {
                "type" : "number",
                "example" : 3.0E-4
              },
              "Type" : {
                "type" : "string",
                "example" : "U"
              }
            }
          },
          "Brix" : {
            "type" : "object",
            "properties" : {
              "A" : {
                "type" : "number",
                "example" : 23.09
              },
              "B" : {
                "type" : "number",
                "example" : 0.01
              },
              "Type" : {
                "type" : "string",
                "example" : "N"
              }
            }
          },
          "Maintenance" : {
            "type" : "object",
            "properties" : {
              "A" : {
                "type" : "number",
                "example" : 0.05
              },
              "B" : {
                "type" : "number",
                "example" : 0.2
              },
              "Type" : {
                "type" : "string",
                "example" : "U"
              }
            }
          },
          "Lag" : {
            "type" : "object",
            "properties" : {
              "A" : {
                "type" : "number",
                "example" : 15
              },
              "B" : {
                "type" : "number",
                "example" : 25
              },
              "Type" : {
                "type" : "string",
                "example" : "U"
              }
            }
          },
          "Viability" : {
            "type" : "object",
            "properties" : {
              "A" : {
                "type" : "number",
                "example" : 6
              },
              "B" : {
                "type" : "number",
                "example" : 60
              },
              "Type" : {
                "type" : "string",
                "example" : "U"
              }
            }
          },
          "EthInh" : {
            "type" : "object",
            "properties" : {
              "A" : {
                "type" : "number",
                "example" : 0.025
              },
              "B" : {
                "type" : "number",
                "example" : 0.045
              },
              "Type" : {
                "type" : "string",
                "example" : "U"
              }
            }
          }
        }
      },
      "loads" : {
        "type" : "object",
        "properties" : {
          "DataPoints" : {
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "Timestamp" : {
                  "type" : "string",
                  "example" : "05-Nov-2019 18:15:00"
                },
                "Brix" : {
                  "type" : "number",
                  "example" : 23.09
                },
                "Temperature" : {
                  "type" : "number",
                  "example" : 15.42
                }
              }
            }
          },
          "Volume" : {
            "type" : "number",
            "example" : 1500
          },
          "VolumeUnits" : {
            "type" : "number",
            "example" : 0
          },
          "RateUnits" : {
            "type" : "number",
            "example" : 1
          },
          "EvolvedUnits" : {
            "type" : "number",
            "example" : 0
          }
        }
      },
      "densityconversion" : {
        "type" : "object",
        "properties" : {
          "DataPoints" : {
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "Density" : {
                  "type" : "number",
                  "example" : 23.09
                },
                "Temperature" : {
                  "type" : "number",
                  "example" : 15.42
                }
              }
            }
          },
          "InputUnits" : {
            "type" : "number",
            "example" : 0
          },
          "OutputUnits" : {
            "type" : "number",
            "example" : 3
          }
        }
      },
      "Units" : {
        "type" : "object",
        "properties" : {
          "TemperatureUnits" : {
            "type" : "object",
            "properties" : {
              "units" : {
                "type" : "integer",
                "description" : "Celcius, Fahrenheit",
                "enum" : [ 0, 1 ]
              }
            },
            "xml" : {
              "name" : "TemperatureUnits"
            }
          },
          "DensityUnits" : {
            "type" : "object",
            "properties" : {
              "units" : {
                "type" : "integer",
                "description" : "Brix, Specific Gravity, Baume, Oeschle, Plato, Kg/m3",
                "enum" : [ 0, 1, 2, 3, 4, 5 ]
              }
            },
            "xml" : {
              "name" : "DensityUnits"
            }
          },
          "PressureUnits" : {
            "type" : "object",
            "properties" : {
              "units" : {
                "type" : "integer",
                "description" : "Pa, atm, torr, bar, psi",
                "enum" : [ 0, 1, 2, 3, 4 ]
              }
            },
            "xml" : {
              "name" : "PressureUnits"
            }
          },
          "CO2 Units" : {
            "type" : "object",
            "properties" : {
              "RateUnits" : {
                "type" : "integer",
                "description" : "L CO2/hour, L CO2/day",
                "enum" : [ 0, 1 ]
              },
              "EvolvedUnits" : {
                "type" : "integer",
                "description" : "L CO2",
                "enum" : [ 0 ]
              }
            },
            "xml" : {
              "name" : "CO2Units"
            }
          },
          "Energy Units" : {
            "type" : "object",
            "properties" : {
              "RateUnits" : {
                "type" : "integer",
                "description" : "kJ/hour, kj/day, Refrigeration Tons",
                "enum" : [ 0, 1, 3 ]
              },
              "EvolvedUnits" : {
                "type" : "integer",
                "description" : "kJ",
                "enum" : [ 0 ]
              }
            },
            "xml" : {
              "name" : "EnergyUnits"
            }
          },
          "VolumeUnits" : {
            "type" : "object",
            "properties" : {
              "units" : {
                "type" : "integer",
                "description" : "Liters, Gallons",
                "enum" : [ 0, 1 ]
              }
            },
            "xml" : {
              "name" : "VolumeUnits"
            }
          }
        }
      }
    },
    "requestBodies" : {
      "boultonmodelmdgs" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/boultonmodelmdgs"
            }
          }
        }
      },
      "loads" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/loads"
            }
          }
        }
      },
      "densityconversion" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/densityconversion"
            }
          }
        }
      },
      "wineryloads" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/wineryloads"
            }
          }
        }
      },
      "diffp2density" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "$ref" : "#/components/schemas/diffp2density"
            }
          }
        }
      }
    },
    "securitySchemes" : {
      "api_key" : {
        "type" : "apiKey",
        "name" : "x-api-key",
        "in" : "header"
      }
    }
  },
  "security" : [ {
    "api_key" : [ ]
  } ]
}
